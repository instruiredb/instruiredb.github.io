<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Mecanic LocomotivƒÉ - Trim IV 2025 (PregƒÉtiri IarnƒÉ)</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
            position: relative; /* Pentru a pozi»õiona semnƒÉtura relativ la container */
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .personal-info {
            padding: 40px;
            max-width: 600px;
            margin: 0 auto;
        }

        .personal-info h2 {
            color: #667eea;
            margin-bottom: 30px;
            text-align: center;
            font-size: 24px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
        }

        .form-group input[type="text"],
        .form-group input[type="date"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input[type="text"]:focus,
        .form-group input[type="date"]:focus {
            outline: none;
            border-color: #667eea;
        }

        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }

        .radio-label {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 10px 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
            transition: all 0.3s;
        }

        .radio-label:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .radio-label input[type="radio"] {
            margin-right: 8px;
            cursor: pointer;
        }

        .quiz-content {
            padding: 30px;
        }

        .question-block {
            margin-bottom: 30px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .question-number {
            color: #667eea;
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 15px;
            line-height: 1.6;
            color: #2c3e50;
        }

        .options {
            margin-top: 15px;
        }

        .option {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: flex-start;
        }

        .option:hover {
            border-color: #667eea;
            transform: translateX(5px);
        }

        .option input[type="radio"] {
            margin-right: 12px;
            margin-top: 3px;
            cursor: pointer;
            width: 18px;
            height: 18px;
        }

        .option label {
            cursor: pointer;
            flex: 1;
            line-height: 1.5;
        }

        .option.correct {
            background: #d4edda;
            border-color: #28a745;
        }

        .option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
        }

        .option.correct::before {
            content: "‚úì ";
            color: #28a745;
            font-weight: bold;
            margin-right: 5px;
        }

        .option.incorrect::before {
            content: "‚úó ";
            color: #dc3545;
            font-weight: bold;
            margin-right: 5px;
        }

        .matching-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            font-size: 14px;
            margin-bottom: 20px;
        }

        .matching-table th, .matching-table td {
            padding: 12px;
            border: 1px solid #e0e0e0;
            text-align: left;
        }
        
        .matching-table th {
            background: #e9eefd;
            color: #667eea;
            font-weight: 700;
        }

        .matching-table td:first-child {
            font-weight: 600;
            background: #f8f9fa;
            width: 30%;
        }

        .btn-container {
            text-align: center;
            margin: 30px 0;
            padding: 0 30px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            box-shadow: none;
        }

        .results {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin: 20px 30px;
            text-align: center;
            display: none;
        }

        .results.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .results h2 {
            font-size: 24px;
            margin-bottom: 15px;
        }

        .results .score {
            font-size: 48px;
            font-weight: bold;
            margin: 20px 0;
        }

        .score-message {
            font-size: 18px;
            margin-top: 10px;
        }

        .reset-btn {
            background: white;
            color: #f5576c;
            margin-top: 20px;
        }

        .export-section {
            text-align: center;
            margin: 20px 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            display: none;
        }

        .export-section.show {
            display: block;
        }

        .export-section h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .export-btn {
            background: #28a745;
            margin: 5px;
        }

        .export-btn:hover {
            background: #218838;
        }

        .summary-text {
            background: white;
            padding: 20px;
            border-radius: 8px;
            text-align: left;
            margin: 20px 0;
            max-height: 400px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            white-space: pre-wrap;
        }
        
        .signature-section {
            padding: 20px 30px 40px;
            text-align: right;
            margin-top: 20px;
        }

        .signature {
            font-family: 'Dancing Script', cursive;
            font-size: 28px;
            color: #2c3e50;
            font-weight: 700;
            display: inline-block;
            border-top: 1px solid #ccc; /* Linie sub semnƒÉturƒÉ */
            padding-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÇ Test PregƒÉtiri IarnƒÉ</h1>
            <p>Trimestrul IV - 2025 </p>
        </div>

        <div class="personal-info" id="personalInfo">
            <h2>Date Personale</h2>
            <div class="form-group">
                <label for="nume">Nume »ôi Prenume *</label>
                <input type="text" id="nume" required placeholder="Ex: Popescu Ion">
            </div>
            <div class="form-group">
                <label>Func»õia *</label>
                <div class="radio-group">
                    <label class="radio-label">
                        <input type="radio" name="functie" value="Mecanic" required>
                        Mecanic
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="functie" value="Mecanic Ajutor" required>
                        Mecanic Ajutor
                    </label>
                </div>
            </div>
            <div class="form-group">
                <label for="data">Data *</label>
                <input type="date" id="data" required>
            </div>
            <button class="btn" onclick="startQuiz()">√éncepe Testul</button>
        </div>

        <div class="quiz-content" id="quizContent" style="display:none;"></div>

        <div class="btn-container">
            <button class="btn" id="checkBtn" onclick="checkAnswers()">VerificƒÉ RƒÉspunsurile</button>
            <button class="btn reset-btn" id="resetBtn" onclick="resetQuiz()" style="display:none;">Reia Testul</button>
        </div>

        <div class="results" id="results"></div>

        <div class="export-section" id="exportSection">
            <h3>üì• ExportƒÉ Rezultatele</h3>
            <button class="btn export-btn" onclick="exportToText()">üíæ DescarcƒÉ ca Text</button>
            <button class="btn export-btn" onclick="copyToClipboard()">üìã CopiazƒÉ √Æn Clipboard</button>
            <button class="btn export-btn" onclick="printResults()">üñ®Ô∏è PrinteazƒÉ</button>
            <div class="summary-text" id="summaryText"></div>
        </div>
        
        <div class="signature-section">
            <div style="font-size: 14px; margin-bottom: 5px; color: #555;">√éntocmit</div>
            <div class="signature">Ecobici Marian</div>
        </div>
        </div>

    <script>
        const questions = [
            {
                id: 1,
                text: "Cum se define≈üte fenomenul meteorologic special \"chiciurƒÉ\"?",
                options: [
                    "A) Depunere de stropi de apa pe obiecte, crengi, provenitƒÉ √Æn timpul iernii.",
                    "B) Depunere de cristale de ghea»õƒÉ pe obiecte, crengi, provenitƒÉ √Æn timpul iernii.",
                    "C) Depunere de stropi de apƒÉ partial √Ænghe»õati pe obiecte, crengi, provenitƒÉ √Æn timpul iernii."
                ],
                correct: 1 
            },
            {
                id: 2,
                text: "Cum se define≈üte fenomenul meteorologic special \"furtuna de zƒÉpadƒÉ\"?",
                options: [
                    "A) FurtunƒÉ de zƒÉpadƒÉ, c√¢nd viscolul general este √Ænso≈£it ≈üi de o cƒÉdere abundentƒÉ de ploaie care se transformƒÉ p√¢nƒÉ la sol total sau par≈£ial √Æn zƒÉpadƒÉ.",
                    "B) FurtunƒÉ de zƒÉpadƒÉ, c√¢nd viscolul general este √Ænso≈£it ≈üi de o cƒÉdere abundentƒÉ de zƒÉpadƒÉ.",
                    "C) FurtunƒÉ de zƒÉpadƒÉ, c√¢nd viscolul general este √Ænso≈£it ≈üi de o cƒÉdere abundentƒÉ de lapovi≈£ƒÉ la √Ænceput care transformƒÉ p√¢nƒÉ la final √Æn zƒÉpadƒÉ abundentƒÉ."
                ],
                correct: 1 
            },
            {
                id: 3,
                text: "Ce sunt obliga»õi mecanicii trenurilor √Æn circula»õie pe timp cu ninsori ?",
                options: [
                    "A) Mecanicii de locomotiva de la trenurile √Æn circulatie sunt obligati sa comunice datele referitoare la eventualele suluri de zapada pe care le √Æntalnesc √Æn parcurs, primei statii de cale ferata care urmeaza dupa locul unde a facut constatarea - prin radio telefon sau catre mecanicii de locomotiva pe care √Æi √Ænta√Ænesc, √Æn parcurs, pe linia vecina.",
                    "B) Mecanicii de locomotiva de la trenurile √Æn circulatie sunt obligati sa comunice datele referitoare la fenomenele meteorologice pe care le √Æntalnesc √Æn parcurs primei statii de cale ferata care urmeaza dupa locul unde a facut constatarea - prin radio telefon sau catre mecanicii de locomotiva pe care √Æi √Æntalnesc, √Æn parcurs, pe linia vecina.",
                    "C) Mecanicii de locomotiva de la trenurile √Æn circulatie sunt obligati sa comunice datele referitoare la eventualele precipitatii »ôi restrictii neavizate pe care le √Æntalnesc √Æn parcurs primei statii de cale ferata care urmeaza dupa locul unde a facut constatarea - prin radio telefon sau catre mecanicii de locomotiva pe care √Æi √Æntalnesc, √Æn parcurs, pe linia vecina."
                ],
                correct: 0 
            },
            {
                id: 4,
                text: "Cand poate pune mecanicul √Æn sarcina maxima MD ≈üi ma≈üinile electrice din circuitul de for≈£ƒÉ dupa ie≈üirea din unitatile de tractiune sau stationari mai √Ændelungate?",
                options: [
                    "A) Pentru fiecare orƒÉ de stationare fara ca MD sau ma≈üinile electrice din circuitul de for≈£ƒÉ sa fie solicitate se considera necesare 5 minute de mers la valori mai reduse pentru √Æncalzirea MD si a circuitelor de for≈£ƒÉ.",
                    "B) Punerea in sarcinƒÉ apropiata de valoarea maxima a ma≈üinilor electrice (motor tractiune, generator principal) cat »ôi a motorului diesel se face dupa parcurgerea unei distante de circa 25 km.",
                    "C) Punerea in sarcinƒÉ apropiatƒÉ de valoarea maxima a ma≈üinilor electrice (motor trac»õiune, generator principal) cat »ôi a motorului diesel se face dupa circa 10-15 minute de functionare pe pozi»õii inferioare a controlerului."
                ],
                correct: 2 
            },
            {
                id: 5,
                text: "√én cazul remorcarii unui tren in dublƒÉ tractiune cu ambele locomotive in capul trenului ambele locomotive vor circula numai cu pantografele din spate ridicate.",
                options: [
                    "A) AdevƒÉrat.",
                    "B) Fals."
                ],
                correct: 0 
            },
            {
                id: 6,
                text: "Pe timp de inghet, polei, chiciura - pornirea din loc a LE se face cu ambele pantografe ridicate in cazul simplei tractiuni.",
                options: [
                    "A) AdevƒÉrat.",
                    "B) Fals."
                ],
                correct: 0 
            },
            {
                id: 7,
                text: "Ce masuri va lua personalul de locomotiva la dispari»õia flamƒÉrii la linia de contact, c√¢nd circulƒÉ cu locomotiva cu ambele pantografe ridicate √Æn simplƒÉ sau dublƒÉ trac≈£iune?",
                options: [
                    "A) Prima locomotiva cu ambele pantografe ridicate »ôi a doua cu cel din spate ridicat.",
                    "B) Ambele locomotive vor avea ambele pantografe ridicate.",
                    "C) √én cazul normalizarii situatiei la prima oprire se va trece la remorcarea cu pantografele ridicate spate spate."
                ],
                correct: 2 
            },
            {
                id: 8,
                text: "Mecanicul de locomotivƒÉ pe timp de iarnƒÉ va urmarii modul de ridicare »ôi coborare a pantografului ≈üi de executare a RAC farƒÉ abateri de la program.",
                options: [
                    "A) AdevƒÉrat.",
                    "B) Fals."
                ],
                correct: 0 
            },
            {
                id: 9,
                text: "Pe timp cu temperaturi scazute ≈üi v√¢nt puternic la circulatia mai multor locomotive electrice in zone cu rambleu, se recomanda sa ramana √Æn functie (regim de tractiune) locomotiva din cap, iar la rota»ôƒÉ sa se coboare pantografele.",
                options: [
                    "A) AdevƒÉrat.",
                    "B) Fals."
                ],
                correct: 0 
            },
            {
                id: 10,
                text: "Ce va urmarii mecanicul de locomotiva pe timp de iarna cu privire la echipamentul de acoperi≈ü?",
                options: [
                    "A) Urmarirea modului de alimentare cu aer a echipamentului de pe acoperi≈ü la punerea √Æn functie a locomotivei.",
                    "B) Urmarirea efectuarii scurgerii apei din echipamentul de pe acoperi≈ü √Ænainte de punerea √Æn func»õie a locomotivei.",
                    "C) Urmarirea modului de ridicare »ôi coborare a pantografului ≈üi de executare a RAC farƒÉ abateri de la program."
                ],
                correct: 2 
            },
            {
                id: 11,
                text: "Pe timp de iarna mecanicul √Æn cazul sta»õionarilor mai mari de cinci minute va lua masuri de scurgerea apei prin deschiderea robinetului de la: rezervor principal ≈üi auxiliar de aer; rezervor de regenerare; saci colectori ≈üi separator ulei; robineti frontali; rezervorul de 12 I de la disjunctor; inversoarele de mers de la MT; separatorul compresorului auxiliar.",
                options: [
                    "A) AdevƒÉrat.",
                    "B) Fals."
                ],
                correct: 0 
            },
            {
                id: 12,
                text: "Pentru prevenirea deranjamentelor la pantografele locomotivelor electrice, √Æn sezonul rece, √Æn condi»õiile existentei temperaturilor scazute, a aparitiei chiciurii, poleiului, vantului puternic ≈üi aparitiei conditiilor meteo nefavorabile care produc oscilatia firului de contact mecanicul de locomotiva va aviza IDM din statia cea mai apropiata, despre situatiile aparute √Æn linia de contact pentru a transmite informatiile catre dispecerul energetic feroviar.",
                options: [
                    "A) AdevƒÉrat.",
                    "B) Fals."
                ],
                correct: 0 
            },
            {
                id: 13,
                text: "Care sunt fenomenele meteorologice speciale?",
                options: [
                    "A) Ceata, chiciura, bruma, √Ænghetul la sol.",
                    "B) Ploaie, burnita, bura, zapada.",
                    "C) LapovitƒÉ, grindina, mazariche, zloata."
                ],
                correct: 0 
            },
            {
                id: 14,
                text: "Cum se interzice a fi ridicate pantografele in cazul remorcarii unui tren in dubla tractiune cu ambele locomotive in capul trenului, in cazul aparitiei de defecte la pantografe ?",
                options: [
                    "A) Prima locomotivƒÉ cu pantograful din fa≈£ƒÉ ridicat, iar a doua cu cel din spate ridicat",
                    "B) Ambele locomotive numai cu pantografele din spate ridicate",
                    "C) Prima locomotivƒÉ cu ambele pantografe ridicate ≈üi a doua cu cel din spate ridicat."
                ],
                correct: 0 
            },
            {
                id: 15,
                text: "Care sunt conditiile de pornire a MDA pe pozitia REMIZAT",
                options: [
                    "A) Temperatura apei scade sub 25 Grade si tensiune bateriei scade la 140 Vcc",
                    "B) MDA porneste automat cand temperatura ambientala scade sub 0 grade",
                    "C) Temperatura apei scade sub 40 Grade si tensiune bateriei scade la 140 Vcc"
                ],
                correct: 2 
            }
        ];

        let userAnswers = {};
        let checked = false;
        let personalData = {};

        function startQuiz() {
            const nume = document.getElementById('nume').value.trim();
            const functieElement = document.querySelector('input[name="functie"]:checked');
            const data = document.getElementById('data').value;

            if (!nume || !functieElement || !data) {
                alert('‚ö†Ô∏è Te rog completeazƒÉ toate c√¢mpurile obligatorii (Nume, Func»õie, Data)!');
                return;
            }

            personalData = {
                nume: nume,
                functie: functieElement.value, 
                data: data
            };

            document.getElementById('personalInfo').style.display = 'none';
            document.getElementById('quizContent').style.display = 'block';
            renderQuiz();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function renderQuiz() {
            const quizContent = document.getElementById('quizContent');
            let html = '';

            questions.forEach((q) => {
                html += `
                    <div class="question-block" id="q${q.id}">
                        <div class="question-number">√éntrebarea ${q.id}</div>
                        <div class="question-text">${q.text}</div>
                        ${q.type === 'matching' ? q.content : ''}
                        <div class="options">
                `;

                q.options.forEach((option, optIndex) => {
                    html += `
                        <div class="option" onclick="selectOption(${q.id}, ${optIndex})">
                            <input type="radio" name="q${q.id}" id="q${q.id}_opt${optIndex}" value="${optIndex}">
                            <label for="q${q.id}_opt${optIndex}">${option}</label>
                        </div>
                    `;
                });

                html += `
                        </div>
                    </div>
                `;
            });

            quizContent.innerHTML = html;
        }

        function selectOption(questionId, optionIndex) {
            if (checked) return;
            
            userAnswers[questionId] = optionIndex;
            const radio = document.getElementById(`q${questionId}_opt${optionIndex}`);
            radio.checked = true;
        }

        function checkAnswers() {
            if (checked) return;
            
            checked = true;
            let score = 0;
            const totalQuestions = questions.length; 

            questions.forEach(q => {
                const options = document.querySelectorAll(`#q${q.id} .option`);
                const userAnswer = userAnswers[q.id];

                options.forEach((opt, index) => {
                    opt.style.pointerEvents = 'none';
                    
                    if (index === q.correct) {
                        opt.classList.add('correct');
                    }
                    
                    if (userAnswer !== undefined && index === userAnswer && userAnswer !== q.correct) {
                        opt.classList.add('incorrect');
                    }
                });

                if (userAnswer === q.correct) {
                    score++;
                }
            });

            const percentage = Math.round((score / totalQuestions) * 100);
            
            // Logica de calificare: A: 14-15; B: 11-13; C: 8-10; D: 0-7
            let message = '';
            let calificativ = '';
            let status = '‚ùå NECORESPUNZƒÇTOR';

            if (score >= 14) {
                calificativ = 'A';
                message = 'üéâ Excelent! Cuno»ôti foarte bine materia!';
                status = '‚úÖ CORESPUNZƒÇTOR';
            } else if (score >= 11) {
                calificativ = 'B';
                message = 'üëç Foarte bine! ContinuƒÉ sƒÉ √Ænve»õi!';
                status = '‚úÖ CORESPUNZƒÇTOR';
            } else if (score >= 8) {
                calificativ = 'C';
                message = 'üìö Bine, dar mai este loc de √ÆmbunƒÉtƒÉ»õire!';
                status = '‚úÖ CORESPUNZƒÇTOR';
            } else {
                calificativ = 'D';
                message = 'üìñ Trebuie sƒÉ mai studiezi materia!';
            }

            document.getElementById('results').innerHTML = `
                <h2>Rezultate Test</h2>
                <div class="score">${score} / ${totalQuestions}</div>
                <div class="score-message">${percentage}% - Calificativ: ${calificativ} - ${status}</div>
                <div class="score-message">${message}</div>
            `;
            document.getElementById('results').classList.add('show');
            document.getElementById('checkBtn').style.display = 'none';
            document.getElementById('resetBtn').style.display = 'inline-block';

            generateSummary(score, percentage, calificativ, status);
            document.getElementById('exportSection').classList.add('show');

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function generateSummary(score, percentage, calificativ, status) {
            const date = new Date(personalData.data);
            const formattedDate = date.toLocaleDateString('ro-RO', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });

            const totalQuestions = questions.length;

            let summary = `
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë          TEST MECANIC LOCOMOTIVƒÇ - TRIM. IV 2025               ‚ïë
‚ïë                  (PREGƒÇTIRI IARNƒÇ - ${totalQuestions} √éNTREBƒÇRI)                  ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

üìã DATE PERSONALE:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
   Nume »ôi Prenume: ${personalData.nume}
   Func»õia: ${personalData.functie}
   Data testului: ${formattedDate}

üìä REZULTATE:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
   Punctaj: ${score} / ${totalQuestions}
   Procent: ${percentage}%
   Calificativ: ${calificativ}
   Status: ${status}

üìù RƒÇSPUNSURI DETALIATE:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
`;

            questions.forEach(q => {
                const userAnswer = userAnswers[q.id];
                const isCorrect = userAnswer === q.correct;
                const statusIcon = isCorrect ? '‚úì' : '‚úó';
                
                const givenAnswerText = userAnswer !== undefined ? q.options[userAnswer] : 'Niciun rƒÉspuns';
                const correctAnswerText = q.options[q.correct];

                // EliminƒÉ prefixul A), B), C) pentru claritate √Æn sumar
                const cleanGivenAnswer = givenAnswerText.replace(/^[A-C]\)\s*/, '');
                const cleanCorrectAnswer = correctAnswerText.replace(/^[A-C]\)\s*/, '');


                summary += `
${statusIcon} √éntrebarea ${q.id}: ${isCorrect ? 'CORECT' : 'GRE»òIT'}
   ${q.text}
   
   RƒÉspuns dat: ${cleanGivenAnswer}
   RƒÉspuns corect: ${cleanCorrectAnswer}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
`;
            });

            summary += `
√éntocmit
Ecobici Marian
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
‚ïë  Document generat automat - ${new Date().toLocaleString('ro-RO')}  ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
`;

            document.getElementById('summaryText').textContent = summary;
            return summary;
        }

        function exportToText() {
            const summary = document.getElementById('summaryText').textContent;
            const blob = new Blob([summary], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `Test_Locomotiva_${personalData.nume.replace(/\s+/g, '_')}_${personalData.data}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function copyToClipboard() {
            const summary = document.getElementById('summaryText').textContent;
            navigator.clipboard.writeText(summary).then(() => {
                alert('‚úÖ Rezultatele au fost copiate √Æn clipboard!');
            }).catch(err => {
                alert('‚ùå Eroare la copierea √Æn clipboard: ' + err);
            });
        }

        function printResults() {
            const summary = document.getElementById('summaryText').textContent;
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <html>
                <head>
                    <title>Test Mecanic LocomotivƒÉ - ${personalData.nume}</title>
                    <style>
                        body { font-family: 'Courier New', monospace; padding: 20px; }
                        pre { white-space: pre-wrap; line-height: 1.6; }
                    </style>
                </head>
                <body>
                    <pre>${summary}</pre>
                </body>
                </html>
            `);
            printWindow.document.close();
            printWindow.print();
        }

        function resetQuiz() {
            checked = false;
            userAnswers = {};
            personalData = {};
            
            document.getElementById('results').classList.remove('show');
            document.getElementById('exportSection').classList.remove('show');
            document.getElementById('checkBtn').style.display = 'inline-block';
            document.getElementById('resetBtn').style.display = 'none';
            document.getElementById('personalInfo').style.display = 'block';
            document.getElementById('quizContent').style.display = 'none';
            
            document.getElementById('nume').value = '';
            document.querySelectorAll('input[name="functie"]').forEach(r => r.checked = false); // DebifeazƒÉ toate
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Ini»õializare: SeteazƒÉ data curentƒÉ ca default, dar nu »ôi func»õia.
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('data').value = today;
        });
    </script>
</body>
</html>